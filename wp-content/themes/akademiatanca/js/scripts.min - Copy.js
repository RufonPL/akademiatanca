var $ = jQuery.noConflict();
var APP={register_functions:function(){$.fn.wrapMatch=function(a,b){for(var c=this.length,d=0;d<c;d+=a)this.slice(d,d+a).wrapAll("<div "+("string"==typeof b?'class="'+b+'"':"")+"/>");return this}},carousel_caption_fade:function(){var a=$("#slider").find(".carousel-caption");$(a).hide().fadeIn(500),$("#slider").bind("slide.bs.carousel",function(b){$(a).fadeOut()}),$("#slider").bind("slid.bs.carousel",function(b){$(a).fadeIn(400)})},carousel_image_center_mobile:function(){var a=$(".carousel-inner > .item > img"),b=$(a).outerWidth();if($(window).width()<769){if(b=0==b?700:b,700==b){var c=(b-$(window).width())/2;$(a).css({"margin-left":-c+"px"})}}else $(a).css({"margin-left":"0px"})},news_carousel_fade:function(){var a=$("#news-slider").find(".news-slide");$(a).hide().fadeIn(500),$("#news-slider").bind("slide.bs.carousel",function(b){$(a).fadeOut(500)}),$("#news-slider").bind("slid.bs.carousel",function(b){$(a).fadeIn(400)})},partners_carousel:function(){$("#partners").owlCarousel({loop:!0,margin:10,nav:!0,autoplay:!0,autoplayTimeout:3e3,touchDrag:!1,autoplayHoverPause:!0,pullDrag:!1,mouseDrag:!1,callbacks:!0,navText:["<i class='fa fa-chevron-left'></i>","<i class='fa fa-chevron-right'></i>"],responsive:{0:{items:1},440:{items:2},640:{items:3}}})},instructors_more_btn:function(){$(".instructor").each(function(){function m(){$(c).addClass("open"),$(a).css({height:"auto"}),$(j).animate({height:$(a).height()+75+i},500),$(k).removeClass("fa fa-caret-down"),$(k).addClass("fa fa-caret-up"),$(l).text("Pokaż mniej")}function n(){$(c).removeClass("open"),$(a).animate({height:f+"px"},500),$(j).animate({height:g+"px"},500),$(k).removeClass("fa fa-caret-up"),$(k).addClass("fa fa-caret-down"),$(l).text("Pokaż więcej")}var a=$(this).find(".instructor-text"),b=$(this).find(".instructor-description").outerHeight(),c=$(this).find(".instructor-more"),d=$(this).find(".instructor-courses").outerHeight(),e=$(this).find(".instructor-photo").outerHeight(),f=160,g=295,h=210,i=30;$(window).width()<961&&(g=260),$(window).width()<769&&(f=145,g=225,i=10),$(window).width()<641&&(f=90,g=320,i=e),$(c).hide(),$(a).css({height:h+"px"}),$(this).animate({height:g+"px"},500),b+d>205&&($(a).css({height:f+"px"}),$(c).show());var j=$(this),k=$(c).find("i"),l=$(c).find("strong");$(c).removeClass("open"),$(k).removeClass("fa fa-caret-up"),$(k).addClass("fa fa-caret-down"),$(l).text("Pokaż więcej"),$(c).is(":visible")&&($(c).unbind("click"),$(c).on("click",function(){$(this).hasClass("open")?n():m()}))})},wrap_news:function(){$(window).width()>992?$(".news-item").wrapMatch(3,"col-md-12 col-sm-12 col-xs-12"):$(window).width()>768&&$(".news-item").wrapMatch(2,"col-md-12 col-sm-12 col-xs-12")},gallery_caption_animation:function(){$(".gallery").each(function(){var a=$(this).find(".gallery-inner"),b=$(this).find(".gallery-info"),c=$(this).find(".gallery-info h6");if($(b).animate({opacity:1},500),c.length){var d=$(c).outerHeight();$(c).css({"margin-bottom":-d-5+"px"}),$(a).hover(function(){$(c).animate({marginBottom:0},300)},function(){$(c).animate({marginBottom:-d-5+"px"},300)})}})},scroll_to_dance_level:function(){var a=$(".course-anchor-list a");$(a).on("click",function(a){a.preventDefault();var c=$(this).attr("href"),d=$('.st-level[data-anchor*="'+c.replace("#","")+'"]');$(d).length&&(b=$(d).offset().top-80,$("html, body").animate({scrollTop:b},1e3))})},open_dance_tab:function(){if(window.location.hash){var a=window.location.hash;if(a=a.replace(/!/g,""),$(".dances-tabs").length){var b=$(".dances-tabs").find('a[href="'+a+'"]');b.length?$(b).trigger("click"):console.log("not found")}}return!1},courses_welcome_page:function(){function b(){var b=$(".dance-container").outerHeight(),c=$(".course-welcome").outerHeight(),d=0;b>c&&(d=(b-c)/2-50),$(a).hide().css({top:d}).fadeIn(500)}if($(".course-welcome").length){var a=$(".course-welcome");b()}},courses_sticky_menu:function(){function a(){var a=$(".original-menu").offset();orgElementTop=a.top,$(window).scrollTop()>=orgElementTop?(orgElement=$(".original-menu"),coordsOrgElement=orgElement.offset(),leftOrgElement=coordsOrgElement.left,widthOrgElement=orgElement.css("width"),$(".cloned-menu").css("left",leftOrgElement+"px").css("top",0).css("width",widthOrgElement).show(),$(".original-menu").css({visibility:"hidden",opacity:"0",height:"30px"})):($(".cloned-menu").hide(),$(".original-menu").css({visibility:"visible",opacity:"1",height:"auto"}))}$(".secondary-menu").addClass("original-menu").clone().insertAfter(".secondary-menu").addClass("cloned-menu").css("position","fixed").css("top","0").css("margin-top","0").css("z-index","500").removeClass("original-menu").hide(),scrollIntervalID=setInterval(a,10)},menu_mobile_adjustments:function(){$(window).width()<768?$(".cloned-menu").closest(".secondary-menu").find(".social-media").addClass("hideit"):$(".cloned-menu").closest(".secondary-menu").find(".social-media").removeClass("hideit")},video_popup:function(){var a=1e3,b=563;$(window).width()<1025&&(a=800,b=450),$(window).width()<861&&(a=600,b=338),$(window).width()<641&&(a=450,b=254),$(window).width()<481&&(a=350,b=198),$(window).width()<381&&(a=250,b=141),$(window).width()<281&&(a="100%",b=141),$(".video-play").colorbox({iframe:!0,rel:"video-play",innerWidth:a,innerHeight:b}),$.colorbox.close()},popup_adjustments:function(){function b(){var a=$("#signup-popup"),b=$(a).find(".singnup-popup-inner"),c=$(window),d=$(b).outerHeight()+50,e=$(c).height()-100;$(b).css({width:$(a).width()+20+"px"}),$(a).css({"max-height":e+"px"}),e<d?$(b).css({"overflow-y":"scroll"}):$(b).css({"overflow-y":"visible"})}var a=$(".signup-container .signup-btn");b(),$(a).on("click",function(){var a=$("#signup-popup").find(".singnup-popup-inner").outerHeight();$("#signup-popup").css({height:a+30+"px"}),b()})},custom_scrollbars_init:function(){$(".signup-container .table-responsive, .prices-container .table-responsive").mCustomScrollbar({axis:"x",theme:"inset-2-dark",autoExpandScrollbar:!0,advanced:{autoExpandHorizontalScroll:!0}}),$("#signup-popup").mCustomScrollbar({theme:"inset-2-dark"}),$(".account-courses .table-responsive").mCustomScrollbar({axis:"x",theme:"inset-2-dark"})},newsletter_popup:function(){function h(){d.onsubmit=function(a){$.post(static_var.ajax,$(this).serialize(),function(a){var b=$.parseJSON(a);"success"==b.status&&Cookies.set("nlsubmitted",1,{expires:e})})}}var a=$("#newsletter__popup-overlay"),b=$("#newsletter__popup"),c=b.find(".fa-close"),d=document.querySelector("#newsletter__popup form.form_subscribe"),e=99999,f=Cookies.get("nlseentoday"),g=Cookies.get("nlsubmitted");null!==d&&1!=g&&1!=f&&setTimeout(function(){a.fadeIn(),h()},2e4),c.on("click",function(){a.fadeOut(),Cookies.set("nlseentoday",1,{expires:1})})},onDOMready:function(){this.register_functions(),this.carousel_caption_fade(),this.news_carousel_fade(),this.partners_carousel(),this.scroll_to_dance_level(),this.open_dance_tab(),this.courses_welcome_page(),this.courses_sticky_menu(),this.custom_scrollbars_init(),$(window).on("load",function(){APP.newsletter_popup()})},onResize:function(){function a(a,b){return onresize=function(){clearTimeout(b),b=setTimeout(a,100)},a}a(function(){APP.instructors_more_btn(),APP.wrap_news(),APP.gallery_caption_animation(),APP.carousel_image_center_mobile(),APP.menu_mobile_adjustments(),APP.video_popup(),APP.popup_adjustments()}),onresize()}};jQuery(document).ready(function(a){APP.onDOMready(),APP.onResize(),a(window).width()>768&&a(".navbar .dropdown > a").click(function(){location.href=this.href})});
var LoginRegister={url_$_GET:function(a){var b={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(a,c,d){b[c]=void 0!==d?d:""}),a?b[a]?b[a]:null:b},checkbox_security:function(a,b){$(a).removeClass("checked").prop("checked",!1),$(a).closest(".form-group").find("span").css({color:"#00192d"}),1!=b&&$(a).on("click",function(){$(this).toggleClass("checked")})},general_clear:function(){$("#general-erorr").html(""),$("#general-message").html(""),$("#logreg-loader").hide()},login_box:function(){function e(){$("#u_login_form").validate().resetForm(),$("#remind_form").validate().resetForm(),$("#logreg-box .form-control").removeClass("error"),LoginRegister.checkbox_security("#u_login_check",1),LoginRegister.checkbox_security("#rem_check",1),LoginRegister.checkbox_security("#u_register_check",1)}function f(){$(d).on("click",function(){$(c).animate({opacity:0,top:"45%"},500).fadeOut(),setTimeout(function(){$(c).stop(!1,!0)},400),$(b).fadeOut(500)})}var a=$("#login-btn"),b=$("#logreg-container"),c=$("#logreg-box"),d=$(c).find(".fa-close");LoginRegister.checkbox_security("#u_login_check",0),LoginRegister.checkbox_security("#rem_check",0),LoginRegister.checkbox_security("#u_register_check",0),$(a).on("click",function(){$('a[href="#logowanie"]').tab("show"),$(b).fadeIn(500),$(c).css({display:"block",opacity:"0",top:"45%"}).animate({opacity:1,top:"50%"},500),f(),e(),LoginRegister.general_clear()})},login_proccess:function(){var a=$("#logreg-loader"),b=$("#u_login_form").validate({submitHandler:function(c){if(LoginRegister.general_clear(),$("#u_login_check").hasClass("checked")){$("#u_login_check").closest(".form-group").find("span").css({color:"#00192d"}),$(a).fadeIn();var d=$("#u_login").val(),e=$("#u_password").val(),f=$("#u_login_check").val(),g={action:"proccess_login",login:d,pass:e,check:f};$.post(frontendajax.ajaxurl,g,function(c){setTimeout(function(){"error-login"==c?($(a).fadeOut(),b.showErrors({u_login:"Nieprawidłowy login lub hasło",u_password:"Nieprawidłowy login lub hasło"})):"not-active"==c?($(a).fadeOut(),$("#general-erorr").html("Twoje konto nie zostało aktywowane. Jeżeli nie otrzymałeś/aś maila z linkiem aktywacyjnym, skontaktuj się z nami")):"success"==c?window.location.replace(document.location.origin+document.location.pathname):($(a).fadeOut(),$("#general-erorr").html("Wystąpił błąd. Spróbuj ponownie lub skontaktuj się z nami"))},1e3)})}else $("#u_login_check").closest(".form-group").find("span").css({color:"#f00"});return!1},rules:{u_login:{required:!0},u_password:{required:!0}},messages:{u_login:{required:"Podaj login"},u_password:{required:"Podaj hasło"}}})},remind_proccess:function(){var a=$("#logreg-loader"),b=$("#remind_form").validate({submitHandler:function(c){if(LoginRegister.general_clear(),$("#rem_check").hasClass("checked")){$("#rem_check").closest(".form-group").find("span").css({color:"#00192d"}),$(a).fadeIn();var d=$("#rem_email").val(),e=$("#rem_check").val(),f={action:"proccess_remind",email:d,check:e};$.post(frontendajax.ajaxurl,f,function(c){setTimeout(function(){$(a).fadeOut(),"error-user"==c?b.showErrors({rem_email:"Podany adres email nie jest zarejestrowany"}):"success"==c?($("#general-message").html("Twoje hasło zostało wysłane mailem"),$("#rem_email").val(""),$("#rem_check").prop("checked",!1).removeClass("checked")):$("#general-erorr").html("Wystąpił błąd. Spróbuj ponownie lub skontaktuj się z nami")},1e3)})}else $("#rem_check").closest(".form-group").find("span").css({color:"#f00"});return!1},rules:{rem_email:{required:!0,email:!0}},messages:{rem_email:{required:"Podaj adres e-mail",email:"Nieprawidłowy adres email"}}})},registration_proccess:function(){var a=$("#logreg-loader");$.validator.addMethod("phone_number",function(a,b){return this.optional(b)||/^[0-9 \-]+$/i.test(a)});var b=$("#u_register_form").validate({submitHandler:function(c){if(LoginRegister.general_clear(),$("#u_register_check").hasClass("checked")){$("#u_register_check").closest(".form-group").find("span").css({color:"#00192d"}),$(a).fadeIn();var d=$("#u_register_name").val(),e=$("#u_register_email").val(),f=$("#u_register_phone").val(),g=$("#u_register_check").val(),h={action:"proccess_registration",name:d,email:e,phone:f,check:g};$.post(frontendajax.ajaxurl,h,function(c){setTimeout(function(){$(a).fadeOut(),"user-exists"==c?b.showErrors({u_register_email:"Podany adres email jest już zarejestrowany"}):"empty-fields"==c?$("#general-erorr").html("Wypełnij wszystkie pola"):"success"==c?($("#general-message").html("Rejestracja zakończona sukcesem. <br/>Twoje hasło zostało wysłane mailem"),$("#u_register_name").val(""),$("#u_register_email").val(""),$("#u_register_phone").val(""),$("#u_register_check").prop("checked",!1).removeClass("checked")):$("#general-erorr").html("Wystąpił błąd. Spróbuj ponownie lub skontaktuj się z nami")},1e3)})}else $("#u_register_check").closest(".form-group").find("span").css({color:"#f00"});return!1},rules:{u_register_name:{required:!0},u_register_email:{required:!0,email:!0},u_register_phone:{required:!0,phone_number:!0}},messages:{u_register_email:{required:"Podaj adres e-mail",email:"Nieprawidłowy adres email"},u_register_phone:{required:"Podaj numer telefonu",phone_number:"Nieprawidłowy numer telefonu"},u_register_name:{required:"Podaj imię i nazwisko"}}})},onDOMready:function(){$("#login-btn").length&&(this.login_box(),this.login_proccess(),this.remind_proccess(),this.registration_proccess())},onLOad:function(){$("#login-btn").length&&1==LoginRegister.url_$_GET("wpadmin")&&$("#login-btn").trigger("click")}};jQuery(document).ready(function(a){LoginRegister.onDOMready()}),jQuery(window).load(function(a){LoginRegister.onLOad()});